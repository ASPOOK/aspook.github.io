<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="由一篇知乎问答引发的Web地图探索"/>




  <meta name="keywords" content="Web地图, 切片地图, 栅格地图, 矢量渲染, ASPOOK" />










  <link rel="alternative" href="/default" title="ASPOOK" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="http://aspook.com/2016/06/21/由一篇知乎问答引发的Web地图探索/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />






  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> 由一篇知乎问答引发的Web地图探索 - ASPOOK </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">ASPOOK</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">ASPOOK</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          由一篇知乎问答引发的Web地图探索
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-06-21
        </span>
        
          <div class="post-category">
            
              <a href="/categories/GIS/">GIS</a>
            
          </div>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#u8BDD_u9898_u5207_u5165"><span class="toc-text">话题切入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5173_u4E8EWeb_u5730_u56FE_u77E2_u91CF_u6E32_u67D3_u5E94_u7528_u7684_u73B0_u72B6"><span class="toc-text">关于Web地图矢量渲染应用的现状</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5173_u4E8E_u9065_u611F_u5F71_u50CF_u7684_u95EE_u9898"><span class="toc-text">关于遥感影像的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5173_u4E8E_u5BA4_u5185_u5B9A_u4F4D"><span class="toc-text">关于室内定位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#u5176_u4ED6"><span class="toc-text">其他</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <p>本文最初于2016-02-18发布在个人<a href="http://blog.csdn.net/ahence/article/details/50685959" target="_blank" rel="external">CSDN博客</a>。</p>
<h3 id="u8BDD_u9898_u5207_u5165"><a href="#u8BDD_u9898_u5207_u5165" class="headerlink" title="话题切入"></a>话题切入</h3><p>下午有点时间，在知乎上搜索了一下关于GIS的话题，在精华问答部分发现了一篇题为<a href="http://www.zhihu.com/question/20101688" target="_blank" rel="external">《Google地图原本为什么不采用矢量地图渲染，而是下载栅格化图像然后渲染？》</a>的文章，通过看回帖得知大概是2012年的文章。虽然已过去几年，但这个问题在Web地图领域还是非常经典的。不过可能非GIS行业的人不理解标题是什么意思，简单说一下：其实标题严格来讲应该是“Google底图”而不是“Google地图”，地图包括底图还有其他图层及符号标记等。此文标题意思是Google地理底图为什么不在客户端（一般即浏览器）进行矢量绘制，而是在服务端生成各个缩放级别的地图切片之后，客户端通过AJAX技术请求地图图片，然后在客户端渲染展示。此文的几个回答基本上已经说明原因了，在此就不在赘述，具体可以查看原文。</p>
<h3 id="u5173_u4E8EWeb_u5730_u56FE_u77E2_u91CF_u6E32_u67D3_u5E94_u7528_u7684_u73B0_u72B6"><a href="#u5173_u4E8EWeb_u5730_u56FE_u77E2_u91CF_u6E32_u67D3_u5E94_u7528_u7684_u73B0_u72B6" class="headerlink" title="关于Web地图矢量渲染应用的现状"></a>关于Web地图矢量渲染应用的现状</h3><p>大概有3年多没有碰GIS了，看到这个话题后，突然想看看现今的web地图使用的是客户端矢量渲染还是栅格地图。于是查看了以下几家地图<strong>在PC端</strong>的情况（移动端可能不同，只知道高德地图最新SDK是矢量数据了，注意这里并非指移动浏览器，而是指移动端native的矢量渲染）：</p>
<ul>
<li>Google地图</li>
<li>百度地图</li>
<li>高德地图</li>
<li>腾讯地图</li>
<li>OpenStreetMap</li>
</ul>
<p><strong>在写此文时得出的结论是这样的（一定要注意今天的情况是这样的，并不代表永远这样，以后技术肯定会发生变化的）</strong>：</p>
<p>底图使用了矢量渲染的有Google地图，高德地图。<br>底图使用了栅格地图的有百度地图、腾讯地图、OpenStreetMap。</p>
<p>由此看来，Google地图在2012年还没有使用客户端矢量渲染技术，现在则已经使用了。国内来看，高德地图算是走得比较靠前的。当年大家普遍使用基于金字塔结构的栅格数据的主要原因是浏览器矢量渲染能力的不足以及各浏览器的兼容性、差异性，为了获得一致的跨浏览器体验，因此多采用栅格地图技术。随着HTML5技术的成熟及浏览器对HTML5的支持越来越好，客户端矢量渲染性能已不是瓶颈，也因此越来越多的Web地图采用了浏览器端矢量渲染技术或者矢栅结合的方式。</p>
<p>矢量渲染对比栅格地图的好处，大概有以下几个方面：</p>
<ul>
<li>数据更新更快更及时——由于地理数据是海量级别的，制作地图切片可能要消耗几个小时、几天甚至更长，而客户端矢量渲染理论上则可以支持实时更新。</li>
<li>释放客户端的缓存空间，节省流量——原来客户端需要缓存大量的地图切片，而矢量渲染则仅需要传输GeoJson字串，大大节省流量，这一点在移动端显得尤为重要。</li>
<li>客户端支持矢量编辑——以往，在客户端仅为图片展示，编辑数据是不可能的。</li>
</ul>
<p>当然不可否认，客户端矢量渲染会带来一些安全隐患，通过抓包可以轻易获取地图数据，这也是需要考虑的一个问题。</p>
<h3 id="u5173_u4E8E_u9065_u611F_u5F71_u50CF_u7684_u95EE_u9898"><a href="#u5173_u4E8E_u9065_u611F_u5F71_u50CF_u7684_u95EE_u9898" class="headerlink" title="关于遥感影像的问题"></a>关于遥感影像的问题</h3><p>首先所有的遥感影像数据则都是栅格技术，由服务端生成切片，客户端异步请求加载的。</p>
<p>通过测试上述几家的地图，发现国内的遥感数据都是做了后期处理的，一些重要地区的数据（如军事基地）在遥感影像上是找不到的，而Google的遥感影像里甚至可以清晰地看到军舰，想体验一下的就自己想办法访问Google吧！另外Google的遥感影像和地图叠加是有偏差的，这是由于Google地图在中国部分使用的是高德的数据（已经是国家规定的火星坐标系了，原因你懂的），百度地图和高德地图没有偏差是因为他们已经纠过偏了。</p>
<h3 id="u5173_u4E8E_u5BA4_u5185_u5B9A_u4F4D"><a href="#u5173_u4E8E_u5BA4_u5185_u5B9A_u4F4D" class="headerlink" title="关于室内定位"></a>关于室内定位</h3><p>打开高德地图开放平台时，发现了高德提供的室内定位技术方案，文档地址为<a href="http://lbs.amap.com/getting-started/indoorlocation/" title="高德地图室内定位" target="_blank" rel="external">http://lbs.amap.com/getting-started/indoorlocation/</a>。</p>
<p>如今，室内地图及室内定位的需求越来越大，由于室内地图要求精度更高，也出现了一些专业制作室内地图的公司。室内定位技术目前主要基于WIFI和蓝牙，因此对室内硬件条件及移动设备版本要求比较高，如需要现场采集室内WIFI或iBeacon的信息，甚至如何现场铺设WIFI或iBeacon设备都有严格要求；对于移动手机，支持蓝牙的版本，系统版本都有要求。这样看来，室内定位的成本和复杂度还是比较高的，更多相关信息可以查看高德的室内定位方案。</p>
<h3 id="u5176_u4ED6"><a href="#u5176_u4ED6" class="headerlink" title="其他"></a>其他</h3><p><strong>GIS Cloud</strong>上的几个浏览器端矢量渲染示例及效果图，效果非常棒</p>
<ul>
<li><a href="http://www.giscloud.com/map/16671/a-world-of-a-million-points" target="_blank" rel="external">http://www.giscloud.com/map/16671/a-world-of-a-million-points</a></li>
<li><a href="http://www.giscloud.com/map/12584/sarasota-parcels" target="_blank" rel="external">http://www.giscloud.com/map/12584/sarasota-parcels</a></li>
<li><a href="http://www.giscloud.com/map/16594/germany-6000000-features" target="_blank" rel="external">http://www.giscloud.com/map/16594/germany-6000000-features</a></li>
</ul>
<p><strong>Leaflet</strong></p>
<ul>
<li>一个开源的JavaScript地图库，支持绘制矢量图层</li>
<li>Github地址：<a href="https://github.com/Leaflet/Leaflet" target="_blank" rel="external">https://github.com/Leaflet/Leaflet</a></li>
</ul>
<p><strong>GeoJson</strong></p>
<ul>
<li>地图数据的json格式规范，如点、线、面如何用json来表示</li>
<li>官网地址：<a href="http://geojson.org/" target="_blank" rel="external">http://geojson.org/</a></li>
</ul>
<p><strong>MapBox</strong></p>
<ul>
<li>An open source mapping platform for custom designed maps.</li>
<li>官网地址：<a href="https://www.mapbox.com/" target="_blank" rel="external">https://www.mapbox.com/</a></li>
</ul>
<p><strong>全球十大地图API</strong></p>
<ul>
<li><a href="https://developers.google.com/maps/" target="_blank" rel="external">Google Maps API</a> </li>
<li><a href="http://www.microsoft.com/maps/choose-your-bing-maps-API.aspx" target="_blank" rel="external">Bing Maps API</a> </li>
<li><a href="http://openlayers.org/" target="_blank" rel="external">OpenLayers API</a> </li>
<li><a href="https://developer.foursquare.com/" target="_blank" rel="external">Foursquare API</a> </li>
<li><a href="http://wiki.openstreetmap.org/wiki/API" target="_blank" rel="external">OpenStreetMap API</a> </li>
<li><a href="http://developer.mapquest.com/" target="_blank" rel="external">MapQuest API</a> </li>
<li><a href="https://www.mapbox.com/developers/api/" target="_blank" rel="external">MapBox API</a> </li>
<li><a href="http://cartodb.com/develop" target="_blank" rel="external">CartoDB API</a> </li>
<li><a href="https://developers.arcgis.com/javascript/" target="_blank" rel="external">Esri ArcGIS API</a> </li>
<li><a href="https://developer.yahoo.com/boss/placefinder/" target="_blank" rel="external">Yahoo BOSS PlaceFinder API</a> </li>
</ul>

      
    </div>

    
      
      

  <div class="post-copyright">
    <p class="copyright-item">
      <span>原文作者: </span>
      <a href="http://aspook.com">AN</a>
    </p>
    <p class="copyright-item">
      <span>原文链接: </span>
      <a href="http://aspook.com/2016/06/21/由一篇知乎问答引发的Web地图探索/">http://aspook.com/2016/06/21/由一篇知乎问答引发的Web地图探索/</a>
    </p>
    <p class="copyright-item">
      <span>许可协议: </span>
      
      <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Web地图/">Web地图</a>
            
              <a href="/tags/切片地图/">切片地图</a>
            
              <a href="/tags/栅格地图/">栅格地图</a>
            
              <a href="/tags/矢量渲染/">矢量渲染</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2016/06/22/理解Android中的线程及线程间通信/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">理解Android中的线程及线程间通信</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    
    
      <a class="next" href="/2016/06/20/Android广播纪要/">
        <span class="next-text nav-default">Android广播纪要</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2017

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">AN</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  



    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
