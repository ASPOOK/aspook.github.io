<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="请不要灰心，你也会有人妒忌"><title>非微信内置浏览器中的网页调起微信支付的方案研究 | Aspook</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">非微信内置浏览器中的网页调起微信支付的方案研究</h1><a id="logo" href="/.">Aspook</a><p class="description">『Serendipity』Battling against our own ignorance</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">非微信内置浏览器中的网页调起微信支付的方案研究</h1><div class="post-meta">Jul 15, 2016<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/07/15/非微信内置浏览器中的网页调起微信支付的方案研究/" href="/2016/07/15/非微信内置浏览器中的网页调起微信支付的方案研究/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="u95EE_u9898_u6765_u6E90"><a href="#u95EE_u9898_u6765_u6E90" class="headerlink" title="问题来源"></a>问题来源</h3><p>之前在app中集成过微信支付，当时还写了一篇<a href="http://blog.csdn.net/ahence/article/details/50173621" target="_blank" rel="external">扫坑贴</a>，此种微信支付方式为app支付，即在我们自己的应用中嵌入微信支付SDK，由Native代码调起微信支付。</p>
<p>后来由于业务需要在我们app的WebView中打开第三方店铺的网页，在第三方网页中有微信支付按钮，测试反馈说ios可以调起微信支付，而android不可以。后来网上看到说微信内置Webview和京东的网页也可以调起微信支付，微信自己没什么奇怪的，而京东可以的话，如果它跟微信没什么合作协议的话，那么其他app应该也可以在网页中调用微信支付。</p>
<h3 id="u63A2_u7D22"><a href="#u63A2_u7D22" class="headerlink" title="探索"></a>探索</h3><p>由于ios可以支持，因此找ios同事测试了一下，发现ios内置浏览器中只要输入相关协议都可以调起相关app的，比如：</p>
<ol>
<li>输入weixin://  可以调起微信</li>
<li>输入alipay://  可以调起支付宝</li>
</ol>
<p>这样就不难解释为什么ios的webview中第三方网页可以调起微信支付了，但android在浏览器中输入上述协议，没有任何响应。因此本文主要探讨是基于android平台的。</p>
<p>后来终于找到<a href="https://pay.weixin.qq.com/wiki/doc/api/wap.php?chapter=15_1" target="_blank" rel="external">微信支付|商户平台开发者文档</a>，作为客户端开发者，是不会想到这个开发文档的，当时集成app支付的时候所查阅的文档也未提到H5支付的方式。在文档的使用场景介绍中有这么一段：</p>
<blockquote>
<p>H5支付是基于公众号基础开发的一种非微信内浏览器支付方式（需要单独申请支付权限），可以满足在微信外的手机H5页面进行微信支付的需求。同时，由于H5链接传播十分方便、来源不易追踪，商户需要特别注意做好防钓鱼、防刷单的处理，控制风险。</p>
</blockquote>
<p>由此看来，确实官方是支持在非微信内置浏览器中调起微信支付的。</p>
<p>在文档中，微信给了一个官方的测试链接：<a href="http://wxpay.weixin.qq.com/pub_v2/pay/wap.v2.php，在手机浏览器中打开该页面，点击“立即购买”，就可以调起微信支付，我测试了Nexus手机的Chorme浏览器和Sony手机的自带浏览器，均可以。具体效果如下图：" target="_blank" rel="external">http://wxpay.weixin.qq.com/pub_v2/pay/wap.v2.php，在手机浏览器中打开该页面，点击“立即购买”，就可以调起微信支付，我测试了Nexus手机的Chorme浏览器和Sony手机的自带浏览器，均可以。具体效果如下图：</a></p>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/imgs/c1.jpg" alt="这里写图片描述"><img src="http://7xq0xd.com1.z0.glb.clouddn.com/imgs/c2.jpg" alt="这里写图片描述"></p>
<p>通过查看网页源代码，发现“立即购买”是一个按钮，其连接点击协议是这样的：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">href="weixin://wap/pay?appid%3Dwx2421b1c4370ec43b%26noncestr%3D3e84679af4efab5f32ee9ea01b2ec290%26package%3DWAP%26prepayid%3Dwx20160504154919fdacd7bc0d0127918780%26timestamp%3D1462348159%26sign%3DC40DC4BB970049D6830BA567189B463B"</span><br></pre></td></tr></table></figure>
<p>瞬间觉得非常熟悉，以前集成app支付的关键代码是这样的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">IWXAPI api;</span><br><span class="line">PayReq request = <span class="keyword">new</span> PayReq();</span><br><span class="line">request.appId = <span class="string">"wxd930ea5d5a258f4f"</span>;</span><br><span class="line">request.partnerId = <span class="string">"1900000109"</span>;</span><br><span class="line">request.prepayId= <span class="string">"1101000000140415649af9fc314aa427"</span>,;</span><br><span class="line">request.packageValue = <span class="string">"Sign=WXPay"</span>;</span><br><span class="line">request.nonceStr= <span class="string">"1101000000140429eb40476f8896f4c9"</span>;</span><br><span class="line">request.timeStamp= <span class="string">"1398746574"</span>;</span><br><span class="line">request.sign= <span class="string">"7FFECB600D7157C5AA49810D2D8F28BC2811827B"</span>;</span><br><span class="line">api.sendReq(req);</span><br></pre></td></tr></table></figure>
<p>上述a链接里的协议就是app支付里面的各种参数，因此可以得到结论，weixin://wap/pay是微信定义的一种支付协议，用于网页端支付，微信app必定设置了名为weixin://的scheme，因此可以在网页上唤起微信app,在通过约定的参数名称，获取各种参数，从而可以完成支付，具体机制跟app支付是相同的。至于上面一系列参数，是第三方网页端跟微信那边获取的，均由第三方服务端处理，客户端不必关心。</p>
<p>知道了以上原理，就该讨论解决方案了，下面有几种可行的方案。</p>
<h3 id="u89E3_u51B3_u65B9_u68481"><a href="#u89E3_u51B3_u65B9_u68481" class="headerlink" title="解决方案1"></a>解决方案1</h3><p>上面可知，微信的H5支付协议可以在浏览器中调起微信，这也是最简单的方案。如果我们的app打开第三方网页用的是手机浏览器的话，就不用做什么，直接可以调起微信支付了。按微信文档所说，应该大部分浏览器都支持，我只是简单测试了两款。</p>
<h3 id="u89E3_u51B3_u65B9_u68482"><a href="#u89E3_u51B3_u65B9_u68482" class="headerlink" title="解决方案2"></a>解决方案2</h3><p>第一种方案固然简单，但事实上我们往往使用WebView来打开第三方网页，而不是手机浏览器，因此如何让WebView也支持调起微信支付才是核心问题。经过测试发现，原生WebView是可以唤起微信支付的，核心代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">webView = <span class="keyword">new</span> WebView(<span class="keyword">this</span>);</span><br><span class="line">webView.getSettings().setJavaScriptEnabled(<span class="keyword">true</span>);  </span><br><span class="line">webView.loadUrl(<span class="string">"http://wxpay.weixin.qq.com/pub_v2/pay/wap.v2.php"</span>);</span><br></pre></td></tr></table></figure>
<p>对，就这样简单就OK了。</p>
<p>然而往往我们的app中使用自定义的WebView，经测试发现如果为WebView设置了WebViewClient，如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">webView.setWebViewClient(<span class="keyword">new</span> WebViewClient() &#123;</span><br><span class="line">    <span class="comment">// some logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那么就不能唤起微信支付了，errorCode返回-10，提示“<strong>不支持该协议</strong>”。联系到可以在浏览器中唤起微信支付，因此我的解决方案如下,经测试是可以的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  webView.setWebViewClient(<span class="keyword">new</span> WebViewClient() &#123;  </span><br><span class="line">      <span class="annotation">@Override</span>  </span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">shouldOverrideUrlLoading</span><span class="params">(WebView view, String url)</span> </span>&#123;  </span><br><span class="line">      	<span class="comment">// 如下方案可在非微信内部WebView的H5页面中调出微信支付</span></span><br><span class="line">      	<span class="keyword">if</span> (url.startsWith(<span class="string">"weixin://wap/pay?"</span>)) &#123;</span><br><span class="line">		Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">		intent.setAction(Intent.ACTION_VIEW);</span><br><span class="line">		intent.setData(Uri.parse(url));</span><br><span class="line">		startActivity(intent);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">      	<span class="keyword">return</span> <span class="keyword">super</span>.shouldOverrideUrlLoading(view, url);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onPageFinished</span><span class="params">(WebView view, String url)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub				</span></span><br><span class="line">	<span class="keyword">super</span>.onPageFinished(view, url);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedError</span><span class="params">(WebView view, <span class="keyword">int</span> errorCode,</span><br><span class="line">		String description, String failingUrl)</span> </span>&#123;</span><br><span class="line">	<span class="comment">// TODO Auto-generated method stub				</span></span><br><span class="line">	<span class="keyword">super</span>.onReceivedError(view, errorCode, description, failingUrl);</span><br><span class="line">&#125;            </span><br><span class="line">      </span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>第二种解决方案的效果图如下，注意使用了WebView打开的网页：</p>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/imgs/s1.jpg" alt="这里写图片描述"><img src="http://7xq0xd.com1.z0.glb.clouddn.com/imgs/s2.jpg" alt="这里写图片描述"></p>
<h3 id="u89E3_u51B3_u65B9_u68483"><a href="#u89E3_u51B3_u65B9_u68483" class="headerlink" title="解决方案3"></a>解决方案3</h3><p>跟前两种方案相比，第三种就算直接暴力了。结合之前嵌入SDK的app支付方式，我们可以在WebView里拦截H5的支付协议，从上述协议中取出各个参数，完全可以走微信APP支付的方式了。可以发现H5的支付协议中唯独少了partnerId，partnerId指商户ID，在注册微信支付时都会有。至于为什么没有商户id，猜测一是为了安全，另外第三方自家的网页，当然已知partnerId了（如京东的网页，京东在微信的商户id当然知道的），就没必要放到协议中去。</p>
<p>如果我们的app知道第三方的partnerId的话，这样就能拿到所有参数，理论上完全可以转走app支付的方式，具体我没有测试，有兴趣的可以试一下。</p>
<p>本文最初于2016-05-04发布于个人<a href="http://blog.csdn.net/ahence/article/details/51317814" target="_blank" rel="external">CSDN博客</a>。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://aspook.com/2016/07/15/非微信内置浏览器中的网页调起微信支付的方案研究/" data-id="ciww5iazj0008ej5stheudc12" class="article-share-link">分享到</a><div class="tags"><a href="/tags/微信wap支付/">微信wap支付</a><a href="/tags/微信支付/">微信支付</a><a href="/tags/微信网页支付/">微信网页支付</a></div><div class="post-nav"><a href="/2016/07/15/Android微信分享闭环研究/" class="pre">Android微信分享闭环研究</a><a href="/2016/07/15/Android微信支付彻底扫坑/" class="next">Android微信支付彻底扫坑</a></div><div id="disqus_thread"><script>var disqus_shortname = 'aspook';
var disqus_identifier = '2016/07/15/非微信内置浏览器中的网页调起微信支付的方案研究/';
var disqus_title = '非微信内置浏览器中的网页调起微信支付的方案研究';
var disqus_url = 'http://aspook.com/2016/07/15/非微信内置浏览器中的网页调起微信支付的方案研究/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//aspook.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://aspook.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GIS/">GIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/广度优先遍历/" style="font-size: 15px;">广度优先遍历</a> <a href="/tags/APK瘦身/" style="font-size: 15px;">APK瘦身</a> <a href="/tags/微信wap支付/" style="font-size: 15px;">微信wap支付</a> <a href="/tags/微信网页支付/" style="font-size: 15px;">微信网页支付</a> <a href="/tags/诗词/" style="font-size: 15px;">诗词</a> <a href="/tags/历史/" style="font-size: 15px;">历史</a> <a href="/tags/Web地图/" style="font-size: 15px;">Web地图</a> <a href="/tags/矢量渲染/" style="font-size: 15px;">矢量渲染</a> <a href="/tags/切片地图/" style="font-size: 15px;">切片地图</a> <a href="/tags/栅格地图/" style="font-size: 15px;">栅格地图</a> <a href="/tags/养花/" style="font-size: 15px;">养花</a> <a href="/tags/读书/" style="font-size: 15px;">读书</a> <a href="/tags/Java泛型/" style="font-size: 15px;">Java泛型</a> <a href="/tags/clone/" style="font-size: 15px;">clone</a> <a href="/tags/对象克隆/" style="font-size: 15px;">对象克隆</a> <a href="/tags/Android线程/" style="font-size: 15px;">Android线程</a> <a href="/tags/线程通信/" style="font-size: 15px;">线程通信</a> <a href="/tags/AsyncTask/" style="font-size: 15px;">AsyncTask</a> <a href="/tags/工具类/" style="font-size: 15px;">工具类</a> <a href="/tags/公有构造函数/" style="font-size: 15px;">公有构造函数</a> <a href="/tags/诗歌/" style="font-size: 15px;">诗歌</a> <a href="/tags/65536/" style="font-size: 15px;">65536</a> <a href="/tags/64K-method/" style="font-size: 15px;">64K method</a> <a href="/tags/App安全/" style="font-size: 15px;">App安全</a> <a href="/tags/Intent/" style="font-size: 15px;">Intent</a> <a href="/tags/垃圾收集算法/" style="font-size: 15px;">垃圾收集算法</a> <a href="/tags/在南下的火车上/" style="font-size: 15px;">在南下的火车上</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/第三方框架/" style="font-size: 15px;">第三方框架</a> <a href="/tags/Android适配/" style="font-size: 15px;">Android适配</a> <a href="/tags/人生信条/" style="font-size: 15px;">人生信条</a> <a href="/tags/Context/" style="font-size: 15px;">Context</a> <a href="/tags/二叉树/" style="font-size: 15px;">二叉树</a> <a href="/tags/二叉树遍历/" style="font-size: 15px;">二叉树遍历</a> <a href="/tags/深度优先遍历/" style="font-size: 15px;">深度优先遍历</a> <a href="/tags/微信支付/" style="font-size: 15px;">微信支付</a> <a href="/tags/非递归实现/" style="font-size: 15px;">非递归实现</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/AndroidManifest/" style="font-size: 15px;">AndroidManifest</a> <a href="/tags/activity-alias/" style="font-size: 15px;">activity-alias</a> <a href="/tags/瓦片地图/" style="font-size: 15px;">瓦片地图</a> <a href="/tags/Messenger/" style="font-size: 15px;">Messenger</a> <a href="/tags/进程间通信/" style="font-size: 15px;">进程间通信</a> <a href="/tags/LRU/" style="font-size: 15px;">LRU</a> <a href="/tags/Java内存模型/" style="font-size: 15px;">Java内存模型</a> <a href="/tags/JVM内存模型/" style="font-size: 15px;">JVM内存模型</a> <a href="/tags/Java内存分配/" style="font-size: 15px;">Java内存分配</a> <a href="/tags/Bundle/" style="font-size: 15px;">Bundle</a> <a href="/tags/源码解析/" style="font-size: 15px;">源码解析</a> <a href="/tags/AIDL/" style="font-size: 15px;">AIDL</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/Android消息机制源码解析/" style="font-size: 15px;">Android消息机制源码解析</a> <a href="/tags/MessageQueue/" style="font-size: 15px;">MessageQueue</a> <a href="/tags/Handler/" style="font-size: 15px;">Handler</a> <a href="/tags/Looper/" style="font-size: 15px;">Looper</a> <a href="/tags/Message/" style="font-size: 15px;">Message</a> <a href="/tags/Android文件存储/" style="font-size: 15px;">Android文件存储</a> <a href="/tags/内部存储/" style="font-size: 15px;">内部存储</a> <a href="/tags/外部存储/" style="font-size: 15px;">外部存储</a> <a href="/tags/微信分享/" style="font-size: 15px;">微信分享</a> <a href="/tags/分享闭环/" style="font-size: 15px;">分享闭环</a> <a href="/tags/Android书籍推荐/" style="font-size: 15px;">Android书籍推荐</a> <a href="/tags/App生命周期/" style="font-size: 15px;">App生命周期</a> <a href="/tags/Broadcast/" style="font-size: 15px;">Broadcast</a> <a href="/tags/Android广播/" style="font-size: 15px;">Android广播</a> <a href="/tags/Android布局性能优化/" style="font-size: 15px;">Android布局性能优化</a> <a href="/tags/Android图片缓存/" style="font-size: 15px;">Android图片缓存</a> <a href="/tags/Window/" style="font-size: 15px;">Window</a> <a href="/tags/Android-Studio/" style="font-size: 15px;">Android Studio</a> <a href="/tags/Instant-Run/" style="font-size: 15px;">Instant Run</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/19/Android布局性能优化指南/">Android布局性能优化指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/15/APK瘦身指南/">APK瘦身指南</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/27/如何配置方法数超过64K的应用/">如何配置方法数超过64K的应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/25/关于日益泛滥的Android第三方框架/">关于日益泛滥的Android第三方框架</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/30/Messenger进程间通信及其原理/">Messenger进程间通信及其原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/30/信条/">信条</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/Android消息机制源码解析（四）——消息队列MessageQueue/">Android消息机制源码解析（四）——消息队列MessageQueue</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/Android消息机制源码解析（三）——消息循环器Looper/">Android消息机制源码解析（三）——消息循环器Looper</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/Android消息机制源码解析（二）——消息执行者Handler/">Android消息机制源码解析（二）——消息执行者Handler</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/Android消息机制源码解析（一）——消息载体Message/">Android消息机制源码解析（一）——消息载体Message</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//aspook.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://blog.csdn.net/ahence" title="aspook" target="_blank">aspook</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Aspook.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>