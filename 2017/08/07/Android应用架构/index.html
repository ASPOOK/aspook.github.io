<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="请不要灰心，你也会有人妒忌"><title>Android应用架构 | ASPOOK</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Android应用架构</h1><a id="logo" href="/.">ASPOOK</a><p class="description">Serendipity</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Android应用架构</h1><div class="post-meta">Aug 7, 2017<span> | </span><span class="category"><a href="/categories/Android/">Android</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2017/08/07/Android应用架构/" href="/2017/08/07/Android应用架构/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p>最近整理Android架构的一些东西，想到了此文，虽然是两年前的一篇文章了，却依然很有参考价值，对文中的架构演进过程深有同感，现在也有相当一部分App采用的是类似架构。</p>
<p>——by 译者</p>
<h2 id="Android_u5E94_u7528_u67B6_u6784"><a href="#Android_u5E94_u7528_u67B6_u6784" class="headerlink" title="Android应用架构"></a>Android应用架构</h2><blockquote>
<p>从传统的Activity+AsyncTask到RxJava驱动的MVP架构。</p>
</blockquote>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/image/ac1.jpg" alt="这里写图片描述"></p>
<p>一个软件代码的不同部分应该是相互独立的，但可以在一起完成工作，就像一个运转良好的机器 。</p>
<p>Android开发生态发展非常快，每周都会有一些新的工具和库出现或更新、新的博客和文章发表。当你休假一个月归来时可能已经有了一个新版本的Support Library或Play Services。</p>
<p>我曾经和<a href="http://ribot.co.uk/us/" target="_blank" rel="external">ribot</a>团队一起做过3年的Android App开发，在那段时间里，Android应用开发技术和架构不断改进，这篇文章就来分享在这个过程中我们所学到的、所犯过的错误以及架构演进背后的原因。</p>
<h3 id="u521D_u59CB_u67B6_u6784"><a href="#u521D_u59CB_u67B6_u6784" class="headerlink" title="初始架构"></a>初始架构</h3><p>回顾2012年，那是我们的代码遵循最基本的结构，没有使用任何网络框架，而是使用AsyncTask，下面这幅图大概描述了当时的架构是怎样的。</p>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/image/ac2.png" alt="这里写图片描述"></p>
<p>当时代码简单地被分为两层：</p>
<ol>
<li>数据层（<strong>Data Layer</strong>）——负责通过REST API来获取数据并持久化</li>
<li>视图层（<strong>View Layer</strong>）——负责处理和显示数据到UI上</li>
</ol>
<p>其中<strong>APIProvider</strong>提供了一些方法，允许<strong>Activity</strong>或<strong>Fragment</strong>方便地跟<strong>REST API</strong>交互。这些方法通过使用<strong>URLConnection</strong>和<strong>AsyncTask</strong>来实现网络异步请求并通过回调将结果返回给视图层。</p>
<p>类似地，<strong>CacheProvider</strong>也提供了一系列方法从<strong>SharedPreferences</strong>或<strong>SQLite</strong>数据库中读取和保存数据，依然使用回调将结果传回视图层。</p>
<h4 id="u5B58_u5728_u7684_u95EE_u9898"><a href="#u5B58_u5728_u7684_u95EE_u9898" class="headerlink" title="存在的问题"></a>存在的问题</h4><p>这种架构最主要的问题是视图层承担的责任太多。想象一个简单的场景：一个Activity页面需要从服务端请求一个blog post列表，并将数据缓存到SQLite数据库，最终将它们展示到一个ListView上。对于这样一个需求，这个Activity将会做以下事情：</p>
<ol>
<li>调用<strong>APIProvider</strong>的一个方法，如<code>loadPosts(callback)</code></li>
<li>等待<strong>APIProvider</strong>成功回调，然后调用<strong>CacheProvider</strong>的<code>savePosts(callback)</code></li>
<li>等待<strong>CacheProvider</strong>的成功回调，然后将数据展示到ListView上</li>
<li>分别处理<strong>APIProvider</strong>和<strong>CacheProvider</strong>中的两个潜在的回调错误</li>
</ol>
<p>这只是一个简单的例子，实际应用场景中，视图可能无法直接使用REST API返回的数据，因此视图层需要先对数据做一些转换或过滤才能显示。另一种场景可能是<code>loadPosts()</code>方法需要参数，但这个参数可能要从其他地方获取，例如Play Services SDK提供了一个Email地址，一般来说SDK会通过异步回调将Email地址返回，这意味着现在有3层嵌套回调，如果逻辑变得更加负责的话，那将会导致可怕的回调地狱（callback hell）。</p>
<p>总结如下：</p>
<ul>
<li>Activity和Fragment变得越来越庞大而难以维护</li>
<li>太多嵌套的回调将使代码变得非常丑陋且难以理解，修改逻辑或添加新功能将变得异常痛苦</li>
<li>单元测试将变得困难，因为Activity和Fragment中维护了大量的逻辑，这对单元测试来说非常具有挑战性</li>
</ul>
<h3 id="u4E00_u79CDRxJava_u9A71_u52A8_u7684_u65B0_u67B6_u6784"><a href="#u4E00_u79CDRxJava_u9A71_u52A8_u7684_u65B0_u67B6_u6784" class="headerlink" title="一种RxJava驱动的新架构"></a>一种RxJava驱动的新架构</h3><p>上述架构方案我们大概用了两年，在那段时间，我们做了几次改进来解决上面提到的问题，效果比较一般。例如，我们添加了几个帮助类来减少Activity和Fragment中的代码；在APIProvider中尝试使用<a href="http://developer.android.com/training/volley/index.html" target="_blank" rel="external">Volley</a>。尽管我们做了这些改进，但我们的应用仍然对测试不友好，且callback hell还是经常发生。</p>
<p>直到2014年，我们开始了解<a href="http://reactivex.io/" target="_blank" rel="external">RxJava</a>，经过几个示例项目的尝试之后，我们意识到RxJava是解决嵌套回调问题的最终答案。如果你对响应式编程还不熟悉，可以阅读一下其<a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" target="_blank" rel="external">说明文档</a>。简单来说，RxJava允许使用异步流的方式来管理数据，并提供了许多操作符可以用来转换、过滤或组合数据，并将其应用到流上。</p>
<p>鉴于上文所描述的之前遇到的痛点，我们开始考虑这种新的App架构应该是怎么样的，所以有了下面这种RxJava驱动的架构：</p>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/image/ac3.png" alt="这里写图片描述"></p>
<p>跟之前的架构类似，上图的架构也可以分为数据层和视图层。其中数据层包括<strong>DataManager</strong>和一系列<strong>帮助类</strong>，视图层则由Android框架组件如Activity、Fragment等组成。</p>
<p><strong>帮助类</strong>（上图中的第三列）拥有特定的职责并以一种简洁的方式实现。例如，许多项目有访问REST API的帮助类、从数据库读取数据的帮助类、跟第三方SDK交互的帮助类。不同的应用有不同数量的帮助类，但常用的是如下几个：</p>
<ul>
<li>PreferencesHelper——利用SharedPreferences读取和保存数据</li>
<li>DatabaseHelper——处理SQLite数据库的数据访问</li>
<li><a href="https://github.com/square/retrofit" target="_blank" rel="external">Retrofit</a> services——负责调用REST API，我们使用Retrofit来替代Volley，因为它支持RxJava且对于用户非常易用</li>
</ul>
<p>大部分帮助类中的方法将返回RxJava的被观察对象（<strong>RxJava Observables</strong>，RxJava中的概念）。</p>
<p>在这个架构中，<strong>DataManager</strong>是核心所在，它广泛使用RxJava的操作符来组合、过滤、转换从帮助类中获取的数据。<strong>DataManager</strong>的目标是减少Activity和Fragment中的数据转换操作等逻辑，DataManager提供可直接供视图层展示的数据，数据到视图层后就不需要再做处理。</p>
<p>下面代码展示了一个<strong>DataManager</strong>方法示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Observable&lt;Post&gt; <span class="title">loadTodayPosts</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mRetrofitService.loadPosts()</span><br><span class="line">                .concatMap(<span class="keyword">new</span> Func1&lt;List&lt;Post&gt;, Observable&lt;Post&gt;&gt;() &#123;</span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> Observable&lt;Post&gt; <span class="title">call</span><span class="params">(List&lt;Post&gt; apiPosts)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> mDatabaseHelper.savePosts(apiPosts);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                .filter(<span class="keyword">new</span> Func1&lt;Post, Boolean&gt;() &#123;</span><br><span class="line">                    <span class="annotation">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> Boolean <span class="title">call</span><span class="params">(Post post)</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> isToday(post.date);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它的工作流程是这样的：</p>
<ol>
<li>调用Retrofit service的方法从REST API来请求blog posts数据</li>
<li>使用DatabaseHelper将posts数据存到本地数据库以作缓存之用</li>
<li>从blog posts数据中过滤出当天的数据，因为视图层只会显示当天的数据</li>
</ol>
<p>视图层的组件如Activity或Fragment只需要简单地调用上述方法，然后订阅（<strong>subscribe</strong>，RxJava中的概念）返回的可订阅对象（<strong>Observable</strong>）即可。一旦订阅关系建立后，Observable中触发的数据可以直接添加到Adapter中以便在RecyclerView或其他类似控件中展示。</p>
<p>这个架构中还用到了<strong>Event Bus</strong>，Event Bus允许我们使用广播发送数据层的事件(event)，所以视图层的各个组件可以订阅这些广播事件。例如，<strong>DataManager</strong>中的<strong>signOut()</strong>方法在Observable完成时可以发送一个event，这样视图层所有订阅过该event的Activity在收到事件广播后可以将UI效果置为登出状态。</p>
<h4 id="u4E3A_u4EC0_u4E48_u8FD9_u79CD_u67B6_u6784_u66F4_u597D"><a href="#u4E3A_u4EC0_u4E48_u8FD9_u79CD_u67B6_u6784_u66F4_u597D" class="headerlink" title="为什么这种架构更好"></a>为什么这种架构更好</h4><ul>
<li>RxJava的Observable及操作符替换掉了之前的嵌套回调</li>
<li>DataManager接管了部分原属于视图层的职责，因此Activity和Fragment将变得更加轻量级</li>
<li>将代码从Activity和Fragment中移到DataManager或帮助类中，从而使编写单元测试变得容易</li>
<li>明确了职责分离，DataManager作为唯一跟数据层交互的入口，测试非常友好。帮助类及DataManager很容易做数据mock</li>
</ul>
<h4 id="u4F9D_u7136_u5B58_u5728_u7684_u95EE_u9898"><a href="#u4F9D_u7136_u5B58_u5728_u7684_u95EE_u9898" class="headerlink" title="依然存在的问题"></a>依然存在的问题</h4><ul>
<li>对于庞大复杂的项目来说，DataManager将变得非常臃肿，难以维护</li>
<li>尽管视图层的组件如Activity和Fragment变得轻量级，它们仍然需要处理相当数量的关于RxJava订阅相关的逻辑、错误处理等</li>
</ul>
<h3 id="u96C6_u6210MVP_uFF08Model_u3001View_u3001Presenter_uFF09"><a href="#u96C6_u6210MVP_uFF08Model_u3001View_u3001Presenter_uFF09" class="headerlink" title="集成MVP（Model、View、Presenter）"></a>集成MVP（Model、View、Presenter）</h3><p>在过去的一年里，几种架构模式如<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter" target="_blank" rel="external">MVP</a>、<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel" target="_blank" rel="external">MVVM</a>在Android社区变得流行起来。经过在一些示例项目上对这些模式的探索之后，我们发现MVP模式可以给我们现有架构带来有意义的改进，因为我们当前的架构分为两层（视图层和数据层），集成MVP就变得非常自然，于是我们简单地添加了一个<strong>Presenter</strong>层并把部分View中的代码移到了<strong>Presenter</strong>中。</p>
<p>基于MVP的架构如下所示：</p>
<p><img src="http://7xq0xd.com1.z0.glb.clouddn.com/ac4.png" alt="这里写图片描述"></p>
<p>原来的数据层依然保持原样，只不过为了跟MVP的名字保持一致，现在改叫做<strong>Model</strong>。</p>
<p><strong>Presenter</strong>层负责从Model请求数据并在数据准备好之后调用View的相关方法。<strong>Presenter</strong>订阅了从<strong>DataManager</strong>中返回的Observable，在<strong>Presenter</strong>中需要处理一些逻辑如<a href="http://reactivex.io/documentation/scheduler.html" target="_blank" rel="external">schedulers</a>和<a href="http://reactivex.io/RxJava/javadoc/rx/Subscription.html" target="_blank" rel="external">subscriptions</a>，此外，<strong>Presenter</strong>还将进行错误处理，如果需要的话还可以对数据流进行额外的操作。例如，如果需要对数据进行某种过滤处理，而这个过滤器又无法在其他地方重用，因此在<strong>Presenter</strong>中实现过滤器比在<strong>DataManager</strong>中实现更有意义。</p>
<p>下面你将会看到Presenter的一个方法的示例代码，这段代码订阅了从<code>dataManager.loadTodayPosts()</code>中返回的Observable：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loadTodayPosts</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mMvpView.showProgressIndicator(<span class="keyword">true</span>);</span><br><span class="line">    mSubscription = mDataManager.loadTodayPosts().toList()</span><br><span class="line">            .observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">            .subscribeOn(Schedulers.io())</span><br><span class="line">            .subscribe(<span class="keyword">new</span> Subscriber&lt;List&lt;Post&gt;&gt;() &#123;</span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompleted</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    mMvpView.showProgressIndicator(<span class="keyword">false</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123;</span><br><span class="line">                    mMvpView.showProgressIndicator(<span class="keyword">false</span>);</span><br><span class="line">                    mMvpView.showError();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="annotation">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(List&lt;Post&gt; postsList)</span> </span>&#123;</span><br><span class="line">                    mMvpView.showPosts(postsList);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>其中mMvpView是当前Presenter对应的视图组件，MVP中的View一般是Activity、Fragment或ViewGroup的实例。</p>
<p>跟之前的架构类似，视图层包含标准的框架组件，如Activity、Fragment或ViewGroup，主要的不同在于视图组件不再直接订阅Observable，而是实现一个MvpView接口并提供一系列简洁的方法如<code>showError()</code>或<code>showProgressIndicator()</code>。视图组件依然负责处理用户交互如点击事件，并调用Presenter中的对应方法。例如，一个点击加载posts列表的Button，在响应到View的onClick事件后会调用<code>presenter.loadTodayPosts()</code>。</p>
<blockquote>
<p>如果你想看到一个完整的基于MVP架构的示例，可以访问我们的GitHub，地址为<a href="https://github.com/ribot/android-boilerplate" target="_blank" rel="external">Android Boilerplate project on GitHub</a>，也可以通过 <a href="https://github.com/ribot/android-guidelines/blob/master/architecture_guidelines/android_architecture.md" target="_blank" rel="external">ribot’s architecture guidelines</a>阅读更多内容。</p>
</blockquote>
<h4 id="u4E3A_u4EC0_u4E48_u8FD9_u79CD_u67B6_u6784_u66F4_u597D-1"><a href="#u4E3A_u4EC0_u4E48_u8FD9_u79CD_u67B6_u6784_u66F4_u597D-1" class="headerlink" title="为什么这种架构更好"></a>为什么这种架构更好</h4><ul>
<li>Activity和Fragment变得非常轻量级，它们仅有的职责是设置、更新UI以及处理用户交互，因此很容易维护</li>
<li>现在可以非常轻松地通过mock视图层来为Presenter编写单元测试。在以前，这部分代码是View层的一部分因此不方便单元测试，现在整个架构对测试也变得更加友好</li>
<li>如果DataManager变得臃肿庞大，可以将部分代码转移到Presenter中来缓解此问题</li>
</ul>
<h4 id="u4F9D_u7136_u5B58_u5728_u7684_u95EE_u9898-1"><a href="#u4F9D_u7136_u5B58_u5728_u7684_u95EE_u9898-1" class="headerlink" title="依然存在的问题"></a>依然存在的问题</h4><ul>
<li>当代码库变得更庞大更复杂的时候，只有一个单独的DataManager将成为问题。虽然目前我们还没有触碰到这个天花板，但这将是一个迟早会发生的问题。</li>
</ul>
<p>。。。</p>
<p>必须要说明的是这非是一个完美的架构，事实上，一个能够永远解决所有问题的完美架构是不存在的。Android生态系统将继续快速发展而我们也将继续探索、阅读和实践，因此我们将会持续发现更好的方法来构建杰出的Android应用。</p>
<p>最后，希望大家喜欢这篇文章并且能够有所帮助，另外非常欢迎听到关于目前这种架构的思考和反馈。</p>
<p><a href="https://labs.ribot.co.uk/android-application-architecture-8b6e34acda65" target="_blank" rel="external">原文地址</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://aspook.com/2017/08/07/Android应用架构/" data-id="cj9jpl51r007xm6xizpm58pk7" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Android架构/">Android架构</a></div><div class="post-nav"><a href="/2017/08/08/Android全面屏适配/" class="pre">Android全面屏适配</a><a href="/2017/07/13/一种Android分包策略推荐/" class="next">一种Android分包策略推荐</a></div><div id="disqus_thread"><script>var disqus_shortname = 'aspook';
var disqus_identifier = '2017/08/07/Android应用架构/';
var disqus_title = 'Android应用架构';
var disqus_url = 'http://aspook.com/2017/08/07/Android应用架构/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//aspook.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="http://aspook.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GIS/">GIS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂谈/">杂谈</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/通信/" style="font-size: 15px;">通信</a> <a href="/tags/APK瘦身/" style="font-size: 15px;">APK瘦身</a> <a href="/tags/微信支付/" style="font-size: 15px;">微信支付</a> <a href="/tags/微信wap支付/" style="font-size: 15px;">微信wap支付</a> <a href="/tags/微信网页支付/" style="font-size: 15px;">微信网页支付</a> <a href="/tags/诗词/" style="font-size: 15px;">诗词</a> <a href="/tags/历史/" style="font-size: 15px;">历史</a> <a href="/tags/Web地图/" style="font-size: 15px;">Web地图</a> <a href="/tags/矢量渲染/" style="font-size: 15px;">矢量渲染</a> <a href="/tags/切片地图/" style="font-size: 15px;">切片地图</a> <a href="/tags/栅格地图/" style="font-size: 15px;">栅格地图</a> <a href="/tags/Java泛型/" style="font-size: 15px;">Java泛型</a> <a href="/tags/clone/" style="font-size: 15px;">clone</a> <a href="/tags/对象克隆/" style="font-size: 15px;">对象克隆</a> <a href="/tags/Android线程/" style="font-size: 15px;">Android线程</a> <a href="/tags/线程通信/" style="font-size: 15px;">线程通信</a> <a href="/tags/AsyncTask/" style="font-size: 15px;">AsyncTask</a> <a href="/tags/工具类/" style="font-size: 15px;">工具类</a> <a href="/tags/公有构造函数/" style="font-size: 15px;">公有构造函数</a> <a href="/tags/诗歌/" style="font-size: 15px;">诗歌</a> <a href="/tags/65536/" style="font-size: 15px;">65536</a> <a href="/tags/64K-method/" style="font-size: 15px;">64K method</a> <a href="/tags/App安全/" style="font-size: 15px;">App安全</a> <a href="/tags/gradle/" style="font-size: 15px;">gradle</a> <a href="/tags/build加速/" style="font-size: 15px;">build加速</a> <a href="/tags/Intent/" style="font-size: 15px;">Intent</a> <a href="/tags/垃圾收集算法/" style="font-size: 15px;">垃圾收集算法</a> <a href="/tags/在南下的火车上/" style="font-size: 15px;">在南下的火车上</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/第三方框架/" style="font-size: 15px;">第三方框架</a> <a href="/tags/Android适配/" style="font-size: 15px;">Android适配</a> <a href="/tags/Context/" style="font-size: 15px;">Context</a> <a href="/tags/二叉树/" style="font-size: 15px;">二叉树</a> <a href="/tags/二叉树遍历/" style="font-size: 15px;">二叉树遍历</a> <a href="/tags/深度优先遍历/" style="font-size: 15px;">深度优先遍历</a> <a href="/tags/广度优先遍历/" style="font-size: 15px;">广度优先遍历</a> <a href="/tags/非递归实现/" style="font-size: 15px;">非递归实现</a> <a href="/tags/移动架构/" style="font-size: 15px;">移动架构</a> <a href="/tags/Android架构设计/" style="font-size: 15px;">Android架构设计</a> <a href="/tags/分包策略/" style="font-size: 15px;">分包策略</a> <a href="/tags/so文件/" style="font-size: 15px;">so文件</a> <a href="/tags/PIC/" style="font-size: 15px;">PIC</a> <a href="/tags/text-relocation/" style="font-size: 15px;">text relocation</a> <a href="/tags/AndroidManifest/" style="font-size: 15px;">AndroidManifest</a> <a href="/tags/activity-alias/" style="font-size: 15px;">activity-alias</a> <a href="/tags/瓦片地图/" style="font-size: 15px;">瓦片地图</a> <a href="/tags/远程视图/" style="font-size: 15px;">远程视图</a> <a href="/tags/AppWidget/" style="font-size: 15px;">AppWidget</a> <a href="/tags/Messenger/" style="font-size: 15px;">Messenger</a> <a href="/tags/进程间通信/" style="font-size: 15px;">进程间通信</a> <a href="/tags/如何看待与学习新技术/" style="font-size: 15px;">如何看待与学习新技术</a> <a href="/tags/本地广播/" style="font-size: 15px;">本地广播</a> <a href="/tags/LRU/" style="font-size: 15px;">LRU</a> <a href="/tags/类加载器/" style="font-size: 15px;">类加载器</a> <a href="/tags/对象创建/" style="font-size: 15px;">对象创建</a> <a href="/tags/内存分配/" style="font-size: 15px;">内存分配</a> <a href="/tags/访问定位/" style="font-size: 15px;">访问定位</a> <a href="/tags/Java内存模型/" style="font-size: 15px;">Java内存模型</a> <a href="/tags/线程/" style="font-size: 15px;">线程</a> <a href="/tags/JVM内存模型/" style="font-size: 15px;">JVM内存模型</a> <a href="/tags/Java内存分配/" style="font-size: 15px;">Java内存分配</a> <a href="/tags/Hybrid框架通信/" style="font-size: 15px;">Hybrid框架通信</a> <a href="/tags/Bundle/" style="font-size: 15px;">Bundle</a> <a href="/tags/源码解析/" style="font-size: 15px;">源码解析</a> <a href="/tags/内存优化/" style="font-size: 15px;">内存优化</a> <a href="/tags/高性能编码/" style="font-size: 15px;">高性能编码</a> <a href="/tags/AIDL/" style="font-size: 15px;">AIDL</a> <a href="/tags/Binder/" style="font-size: 15px;">Binder</a> <a href="/tags/Android消息机制源码解析/" style="font-size: 15px;">Android消息机制源码解析</a> <a href="/tags/MessageQueue/" style="font-size: 15px;">MessageQueue</a> <a href="/tags/Handler/" style="font-size: 15px;">Handler</a> <a href="/tags/Looper/" style="font-size: 15px;">Looper</a> <a href="/tags/Message/" style="font-size: 15px;">Message</a> <a href="/tags/Android架构组件/" style="font-size: 15px;">Android架构组件</a> <a href="/tags/Android文件存储/" style="font-size: 15px;">Android文件存储</a> <a href="/tags/内部存储/" style="font-size: 15px;">内部存储</a> <a href="/tags/外部存储/" style="font-size: 15px;">外部存储</a> <a href="/tags/微信分享/" style="font-size: 15px;">微信分享</a> <a href="/tags/分享闭环/" style="font-size: 15px;">分享闭环</a> <a href="/tags/开发经验/" style="font-size: 15px;">开发经验</a> <a href="/tags/Android书籍推荐/" style="font-size: 15px;">Android书籍推荐</a> <a href="/tags/App生命周期/" style="font-size: 15px;">App生命周期</a> <a href="/tags/Android架构/" style="font-size: 15px;">Android架构</a> <a href="/tags/快捷方式/" style="font-size: 15px;">快捷方式</a> <a href="/tags/shortcut/" style="font-size: 15px;">shortcut</a> <a href="/tags/Broadcast/" style="font-size: 15px;">Broadcast</a> <a href="/tags/Android广播/" style="font-size: 15px;">Android广播</a> <a href="/tags/Android布局性能优化/" style="font-size: 15px;">Android布局性能优化</a> <a href="/tags/Android图片缓存/" style="font-size: 15px;">Android图片缓存</a> <a href="/tags/全面屏适配/" style="font-size: 15px;">全面屏适配</a> <a href="/tags/Window/" style="font-size: 15px;">Window</a> <a href="/tags/Android-Studio/" style="font-size: 15px;">Android Studio</a> <a href="/tags/Instant-Run/" style="font-size: 15px;">Instant Run</a> <a href="/tags/Instrumentation/" style="font-size: 15px;">Instrumentation</a> <a href="/tags/activity启动流程/" style="font-size: 15px;">activity启动流程</a> <a href="/tags/choreographer/" style="font-size: 15px;">choreographer</a> <a href="/tags/丢帧/" style="font-size: 15px;">丢帧</a> <a href="/tags/帧率/" style="font-size: 15px;">帧率</a> <a href="/tags/卡顿监控/" style="font-size: 15px;">卡顿监控</a> <a href="/tags/性能监控/" style="font-size: 15px;">性能监控</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/11/01/Android-Choreographer/">Android Choreographer</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/LocalBroadcastManager原理分析及应用/">LocalBroadcastManager原理分析及应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/15/Java对象创建、内存分配、访问定位概述/">Java对象创建、内存分配、访问定位概述</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/08/Hybrid框架之交互通信篇/">Hybrid框架之交互通信篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/06/Android应用快捷方式/">Android应用快捷方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/15/Android架构组件/">Android架构组件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/10/业内移动App架构参考/">业内移动App架构参考</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/08/Android全面屏适配/">Android全面屏适配</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/07/Android应用架构/">Android应用架构</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/13/一种Android分包策略推荐/">一种Android分包策略推荐</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//aspook.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://blog.csdn.net/ahence" title="aspook" target="_blank">aspook</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">ASPOOK.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>